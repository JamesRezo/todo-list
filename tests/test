#!/usr/bin/env php
<?php

use Jamesrezo\TodoList\EisenhowerMethod\Decision;

require_once __DIR__ . '/../vendor/autoload.php';

$decision = new Decision;

$questions = $decision->getInteraction()->receiveQuestions();
$important = $questions['important'];
$urgent = $questions['urgent'];
$deadline = $questions['deadline'];
dump($important->ask());
dump('>> yes...');
$important->setAnswer(true);
dump($urgent->ask());
dump('>> no...');
$urgent->setAnswer(false);
if ($decision->needDeadline($important->getAnwser(), $urgent->getAnwser())) {
    dump($deadline->ask());
    $deadline->setAnswer((new DateTimeImmutable())->add(new DateInterval('P7D')));
    dump('>> in seven(7) days...');
}
$questions = [
    'important' => $important,
    'urgent' => $urgent,
    'deadline' => $deadline,
];
$decision->getInteraction()->sendAnswers($questions);

$task = $decision->compute()->deliver();

dump($task);
